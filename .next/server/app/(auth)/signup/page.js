(()=>{var e={};e.id=129,e.ids=[129],e.modules={2406:e=>{"use strict";e.exports=require("@node-rs/argon2")},3524:e=>{"use strict";e.exports=require("@prisma/client")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5092:e=>{"use strict";e.exports=import("oslo")},4757:e=>{"use strict";e.exports=import("oslo/cookie")},1175:e=>{"use strict";e.exports=import("oslo/crypto")},4113:e=>{"use strict";e.exports=import("oslo/encoding")},6953:e=>{"use strict";e.exports=import("oslo/request")},852:e=>{"use strict";e.exports=require("async_hooks")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},6767:(e,a,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>m,routeModule:()=>g,tree:()=>p}),r(4447);var s=r(2361);r(2486),r(2779);var n=r(4285),i=r(2875),o=r(8190),l=r.n(o),c=r(3289),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);r.d(a,d);var u=e([s]);s=(u.then?(await u)():u)[0];let p=["",{children:["(auth)",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4447)),"F:\\learningPlan\\finance-management\\src\\app\\(auth)\\signup\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2361)),"F:\\learningPlan\\finance-management\\src\\app\\(auth)\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2486)),"F:\\learningPlan\\finance-management\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,2779)),"F:\\learningPlan\\finance-management\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["F:\\learningPlan\\finance-management\\src\\app\\(auth)\\signup\\page.tsx"],x="/(auth)/signup/page",h={require:r,loadChunk:()=>Promise.resolve()},g=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(auth)/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}});t()}catch(e){t(e)}})},9397:(e,a,r)=>{let t={"347d84591d4140cbeb7c2730cea041d976702ea6":()=>Promise.resolve().then(r.bind(r,9929)).then(e=>e.signup)};async function s(e,...a){return(await t[e]()).apply(null,a)}e.exports={"347d84591d4140cbeb7c2730cea041d976702ea6":s.bind(null,"347d84591d4140cbeb7c2730cea041d976702ea6")}},3972:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,3510,23)),Promise.resolve().then(r.bind(r,7105))},7105:(e,a,r)=>{"use strict";r.d(a,{default:()=>m});var t=r(7908),s=r(7330),n=r(6339),i=r(2193),o=r(7770),l=r(3590),c=r(1871),d=r(2178),u=r(4215);r(5888);var p=(0,r(8412).$)("347d84591d4140cbeb7c2730cea041d976702ea6");function m(){let[e,a]=(0,d.useState)(),[r,m]=(0,d.useTransition)(),x=(0,u.cI)({resolver:(0,c.F)(l.J),defaultValues:{email:"",username:"",password:""}});async function h(e){a(void 0),m(async()=>{let{error:r}=await p(e);r&&a(r)})}return t.jsx(i.l0,{...x,children:(0,t.jsxs)("form",{onSubmit:x.handleSubmit(h),className:"space-y-3",children:[e&&t.jsx("p",{className:"text-center text-destructive",children:e}),t.jsx(i.Wi,{control:x.control,name:"username",render:({field:e})=>(0,t.jsxs)(i.xJ,{children:[t.jsx(i.lX,{children:"Username"}),t.jsx(i.NI,{children:t.jsx(o.I,{placeholder:"Username",...e})}),t.jsx(i.zG,{})]})}),t.jsx(i.Wi,{control:x.control,name:"email",render:({field:e})=>(0,t.jsxs)(i.xJ,{children:[t.jsx(i.lX,{children:"Email"}),t.jsx(i.NI,{children:t.jsx(o.I,{placeholder:"Email",type:"email",...e})}),t.jsx(i.zG,{})]})}),t.jsx(i.Wi,{control:x.control,name:"password",render:({field:e})=>(0,t.jsxs)(i.xJ,{children:[t.jsx(i.lX,{children:"Password"}),t.jsx(i.NI,{children:t.jsx(n.W,{placeholder:"Password",...e})}),t.jsx(i.zG,{})]})}),t.jsx(s.Z,{loading:r,type:"submit",className:"w-full",children:"Create account"})]})})}},9929:(e,a,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{signup:()=>h});var s=r(3722);r(453);var n=r(9054),i=r(5728),o=r(1925),l=r(2406),c=r(4092),d=r(1372),u=r(3765),p=r(321),m=r(6309),x=e([d,p]);async function h(e){try{let{email:a,username:r,password:t}=n.J.parse(e),s=await (0,l.hash)(t,{memoryCost:19456,timeCost:2,outputLen:32,parallelism:1}),i=(0,p.Bi)(10);if(await o.Z.user.findFirst({where:{username:{equals:r,mode:"insensitive"}}}))return{error:"Username already taken"};if(await o.Z.user.findFirst({where:{email:{equals:a,mode:"insensitive"}}}))return{error:"Email already taken"};await o.Z.$transaction(async e=>{await e.user.create({data:{id:i,username:r,displayName:r,email:a,passwordHash:s}})});let m=await d.z.createSession(i,{}),x=d.z.createSessionCookie(m.id);return(0,c.cookies)().set(x.name,x.value,x.attributes),(0,u.redirect)("/")}catch(e){if((0,i.isRedirectError)(e))throw e;return{error:"Something went wrong. Please try again."}}}[d,p]=x.then?(await x)():x,(0,m.h)([h]),(0,s.j)("347d84591d4140cbeb7c2730cea041d976702ea6",h),t()}catch(e){t(e)}})},4447:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>o,metadata:()=>i});var t=r(9807),s=r(3496);let n=(0,r(6592).createProxy)(String.raw`F:\learningPlan\finance-management\src\app\(auth)\signup\SignUpForm.tsx#default`),i={title:"Sign Up"};function o(){return t.jsx("main",{className:"flex h-screen items-center justify-center p-5",children:t.jsx("div",{className:"flex h-full max-h-[40rem] w-full max-w-[64rem] overflow-hidden rounded-2xl bg-card shadow-2xl",children:(0,t.jsxs)("div",{className:"w-full space-y-10 overflow-y-auto p-10 md:w-2/3 m-auto",children:[t.jsx("div",{className:"space-y-1 text-center",children:t.jsx("h1",{className:"text-3xl font-bold",children:"Sign up to finance management platform"})}),(0,t.jsxs)("div",{className:"space-y-5",children:[t.jsx(n,{}),t.jsx(s.default,{href:"/login",className:"block text-center hover:underline",children:"Already have an account? Log in"})]})]})})})}}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[264,452,927,288,383,30],()=>r(6767));module.exports=t})();