(()=>{var e={};e.id=665,e.ids=[665],e.modules={2406:e=>{"use strict";e.exports=require("@node-rs/argon2")},3524:e=>{"use strict";e.exports=require("@prisma/client")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5092:e=>{"use strict";e.exports=import("oslo")},4757:e=>{"use strict";e.exports=import("oslo/cookie")},1175:e=>{"use strict";e.exports=import("oslo/crypto")},4113:e=>{"use strict";e.exports=import("oslo/encoding")},6953:e=>{"use strict";e.exports=import("oslo/request")},852:e=>{"use strict";e.exports=require("async_hooks")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},654:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>m,routeModule:()=>f,tree:()=>p}),r(5991);var n=r(2361);r(2486),r(2779);var s=r(4285),i=r(2875),o=r(8190),l=r.n(o),c=r(3289),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);r.d(t,d);var u=e([n]);n=(u.then?(await u)():u)[0];let p=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5991)),"F:\\learningPlan\\finance-management\\src\\app\\(auth)\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2361)),"F:\\learningPlan\\finance-management\\src\\app\\(auth)\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2486)),"F:\\learningPlan\\finance-management\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,2779)),"F:\\learningPlan\\finance-management\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["F:\\learningPlan\\finance-management\\src\\app\\(auth)\\login\\page.tsx"],x="/(auth)/login/page",h={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}});a()}catch(e){a(e)}})},5647:(e,t,r)=>{let a={a397e49efc256d52e9c987989e00d29fbccade89:()=>Promise.resolve().then(r.bind(r,2644)).then(e=>e.login)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={a397e49efc256d52e9c987989e00d29fbccade89:n.bind(null,"a397e49efc256d52e9c987989e00d29fbccade89")}},9338:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3510,23)),Promise.resolve().then(r.bind(r,7451))},7451:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(7908),n=r(2178),s=r(7330),i=r(6339),o=r(1871),l=r(4215),c=r(3590);r(5888);var d=(0,r(8412).$)("a397e49efc256d52e9c987989e00d29fbccade89"),u=r(2193),p=r(7770);function m(){let[e,t]=(0,n.useState)(),[r,m]=(0,n.useTransition)(),x=(0,l.cI)({resolver:(0,o.F)(c.d),defaultValues:{username:"",password:""}});return a.jsx(u.l0,{...x,children:(0,a.jsxs)("form",{onSubmit:x.handleSubmit(function(e){t(void 0),console.log(e),m(async()=>{let{error:r}=await d(e);r&&t(r)})}),className:"space-y-8",children:[e&&a.jsx("p",{className:"text-center text-destructive",children:e}),a.jsx(u.Wi,{control:x.control,name:"username",render:({field:e})=>(0,a.jsxs)(u.xJ,{children:[a.jsx(u.lX,{children:"Username"}),a.jsx(u.NI,{children:a.jsx(p.I,{placeholder:"username",...e})}),a.jsx(u.zG,{})]})}),a.jsx(u.Wi,{control:x.control,name:"password",render:({field:e})=>(0,a.jsxs)(u.xJ,{children:[a.jsx(u.lX,{children:"Password"}),a.jsx(u.NI,{children:a.jsx(i.W,{placeholder:"password",...e})}),a.jsx(u.zG,{})]})}),a.jsx(s.Z,{loading:r,type:"submit",className:"w-full",children:"Log in"})]})})}},2644:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{login:()=>x});var n=r(3722);r(453);var s=r(2406),i=r(4092),o=r(1372),l=r(3765),c=r(5728),d=r(9054),u=r(1925),p=r(6309),m=e([o]);async function x(e){try{let{username:t,password:r}=d.d.parse(e),a=await u.Z.user.findFirst({where:{username:{equals:t,mode:"insensitive"}}});if(!a||!a.passwordHash||!await (0,s.verify)(a.passwordHash,r,{memoryCost:19456,timeCost:2,outputLen:32,parallelism:1}))return{error:"Incorrect username or password"};let n=await o.z.createSession(a.id,{}),c=o.z.createSessionCookie(n.id);return(0,i.cookies)().set(c.name,c.value,c.attributes),(0,l.redirect)("/")}catch(e){if((0,c.isRedirectError)(e))throw e;return{error:"Something went wrong. Please try again."}}}o=(m.then?(await m)():m)[0],(0,p.h)([x]),(0,n.j)("a397e49efc256d52e9c987989e00d29fbccade89",x),a()}catch(e){a(e)}})},5991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var a=r(9807),n=r(3496);let s=(0,r(6592).createProxy)(String.raw`F:\learningPlan\finance-management\src\app\(auth)\login\LoginForm.tsx#default`),i={title:"Login"};function o(){return a.jsx("main",{className:"flex h-screen items-center justify-center p-5",children:a.jsx("div",{className:"flex h-full max-h-[40rem] w-full max-w-[64rem] overflow-hidden rounded-2xl bg-card shadow-2xl justify-center",children:(0,a.jsxs)("div",{className:"w-full space-y-10 overflow-y-auto p-10 md:w-2/3",children:[a.jsx("h1",{className:"text-center text-3xl font-bold",children:"Login to finance management platform"}),(0,a.jsxs)("div",{className:"space-y-5",children:[a.jsx(s,{}),a.jsx(n.default,{href:"/signup",className:"block text-center hover:underline",children:"Don't have an account? Sign up"})]})]})})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[264,452,927,288,383,30],()=>r(654));module.exports=a})();